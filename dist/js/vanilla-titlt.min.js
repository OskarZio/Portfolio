"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,_toPropertyKey(s.key),s)}}function _createClass(e,t,i){return t&&_defineProperties(e.prototype,t),i&&_defineProperties(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey(e){e=_toPrimitive(e,"string");return"symbol"===_typeof(e)?e:String(e)}function _toPrimitive(e,t){if("object"!==_typeof(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0===i)return("string"===t?String:Number)(e);i=i.call(e,t||"default");if("object"!==_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}var VanillaTilt=function(){var e=function(){function i(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(_classCallCheck(this,i),!(e instanceof Node))throw"Can't initialize VanillaTilt because "+e+" is not a Node.";this.width=null,this.height=null,this.clientWidth=null,this.clientHeight=null,this.left=null,this.top=null,this.gammazero=null,this.betazero=null,this.lastgammazero=null,this.lastbetazero=null,this.transitionTimeout=null,this.updateCall=null,this.event=null,this.updateBind=this.update.bind(this),this.resetBind=this.reset.bind(this),this.element=e,this.settings=this.extendSettings(t),this.reverse=this.settings.reverse?-1:1,this.resetToStart=i.isSettingTrue(this.settings["reset-to-start"]),this.glare=i.isSettingTrue(this.settings.glare),this.glarePrerender=i.isSettingTrue(this.settings["glare-prerender"]),this.fullPageListening=i.isSettingTrue(this.settings["full-page-listening"]),this.gyroscope=i.isSettingTrue(this.settings.gyroscope),this.gyroscopeSamples=this.settings.gyroscopeSamples,this.elementListener=this.getElementListener(),this.glare&&this.prepareGlare(),this.fullPageListening&&this.updateClientSize(),this.addEventListeners(),this.reset(),!1===this.resetToStart&&(this.settings.startX=0,this.settings.startY=0)}return _createClass(i,[{key:"getElementListener",value:function(){if(this.fullPageListening)return window.document;if("string"==typeof this.settings["mouse-event-element"]){var e=document.querySelector(this.settings["mouse-event-element"]);if(e)return e}return this.settings["mouse-event-element"]instanceof Node?this.settings["mouse-event-element"]:this.element}},{key:"addEventListeners",value:function(){this.onMouseEnterBind=this.onMouseEnter.bind(this),this.onMouseMoveBind=this.onMouseMove.bind(this),this.onMouseLeaveBind=this.onMouseLeave.bind(this),this.onWindowResizeBind=this.onWindowResize.bind(this),this.onDeviceOrientationBind=this.onDeviceOrientation.bind(this),this.elementListener.addEventListener("mouseenter",this.onMouseEnterBind),this.elementListener.addEventListener("mouseleave",this.onMouseLeaveBind),this.elementListener.addEventListener("mousemove",this.onMouseMoveBind),(this.glare||this.fullPageListening)&&window.addEventListener("resize",this.onWindowResizeBind),this.gyroscope&&window.addEventListener("deviceorientation",this.onDeviceOrientationBind)}},{key:"removeEventListeners",value:function(){this.elementListener.removeEventListener("mouseenter",this.onMouseEnterBind),this.elementListener.removeEventListener("mouseleave",this.onMouseLeaveBind),this.elementListener.removeEventListener("mousemove",this.onMouseMoveBind),this.gyroscope&&window.removeEventListener("deviceorientation",this.onDeviceOrientationBind),(this.glare||this.fullPageListening)&&window.removeEventListener("resize",this.onWindowResizeBind)}},{key:"destroy",value:function(){clearTimeout(this.transitionTimeout),null!==this.updateCall&&cancelAnimationFrame(this.updateCall),this.element.style.willChange="",this.element.style.transition="",this.element.style.transform="",this.resetGlare(),this.removeEventListeners(),this.element.vanillaTilt=null,delete this.element.vanillaTilt,this.element=null}},{key:"onDeviceOrientation",value:function(e){var t,i;null!==e.gamma&&null!==e.beta&&(this.updateElementPosition(),0<this.gyroscopeSamples&&(this.lastgammazero=this.gammazero,this.lastbetazero=this.betazero,null===this.gammazero?(this.gammazero=e.gamma,this.betazero=e.beta):(this.gammazero=(e.gamma+this.lastgammazero)/2,this.betazero=(e.beta+this.lastbetazero)/2),--this.gyroscopeSamples),i=this.settings.gyroscopeMaxAngleX-this.settings.gyroscopeMinAngleX,t=this.settings.gyroscopeMaxAngleY-this.settings.gyroscopeMinAngleY,i=i/this.width,t=t/this.height,i=(e.gamma-(this.settings.gyroscopeMinAngleX+this.gammazero))/i,e=(e.beta-(this.settings.gyroscopeMinAngleY+this.betazero))/t,null!==this.updateCall&&cancelAnimationFrame(this.updateCall),this.event={clientX:i+this.left,clientY:e+this.top},this.updateCall=requestAnimationFrame(this.updateBind))}},{key:"onMouseEnter",value:function(){this.updateElementPosition(),this.element.style.willChange="transform",this.setTransition()}},{key:"onMouseMove",value:function(e){null!==this.updateCall&&cancelAnimationFrame(this.updateCall),this.event=e,this.updateCall=requestAnimationFrame(this.updateBind)}},{key:"onMouseLeave",value:function(){this.setTransition(),this.settings.reset&&requestAnimationFrame(this.resetBind)}},{key:"reset",value:function(){this.onMouseEnter(),this.fullPageListening?this.event={clientX:(this.settings.startX+this.settings.max)/(2*this.settings.max)*this.clientWidth,clientY:(this.settings.startY+this.settings.max)/(2*this.settings.max)*this.clientHeight}:this.event={clientX:this.left+(this.settings.startX+this.settings.max)/(2*this.settings.max)*this.width,clientY:this.top+(this.settings.startY+this.settings.max)/(2*this.settings.max)*this.height};var e=this.settings.scale;this.settings.scale=1,this.update(),this.settings.scale=e,this.resetGlare()}},{key:"resetGlare",value:function(){this.glare&&(this.glareElement.style.transform="rotate(180deg) translate(-50%, -50%)",this.glareElement.style.opacity="0")}},{key:"getValues",value:function(){var e=this.fullPageListening?(t=this.event.clientX/this.clientWidth,this.event.clientY/this.clientHeight):(t=(this.event.clientX-this.left)/this.width,(this.event.clientY-this.top)/this.height),t=Math.min(Math.max(t,0),1);return e=Math.min(Math.max(e,0),1),{tiltX:(this.reverse*(this.settings.max-t*this.settings.max*2)).toFixed(2),tiltY:(this.reverse*(e*this.settings.max*2-this.settings.max)).toFixed(2),percentageX:100*t,percentageY:100*e,angle:Math.atan2(this.event.clientX-(this.left+this.width/2),-(this.event.clientY-(this.top+this.height/2)))*(180/Math.PI)}}},{key:"updateElementPosition",value:function(){var e=this.element.getBoundingClientRect();this.width=this.element.offsetWidth,this.height=this.element.offsetHeight,this.left=e.left,this.top=e.top}},{key:"update",value:function(){var e=this.getValues();this.element.style.transform="perspective("+this.settings.perspective+"px) rotateX("+("x"===this.settings.axis?0:e.tiltY)+"deg) rotateY("+("y"===this.settings.axis?0:e.tiltX)+"deg) scale3d("+this.settings.scale+", "+this.settings.scale+", "+this.settings.scale+")",this.glare&&(this.glareElement.style.transform="rotate(".concat(e.angle,"deg) translate(-50%, -50%)"),this.glareElement.style.opacity="".concat(e.percentageY*this.settings["max-glare"]/100)),this.element.dispatchEvent(new CustomEvent("tiltChange",{detail:e})),this.updateCall=null}},{key:"prepareGlare",value:function(){var e,t;this.glarePrerender||((e=document.createElement("div")).classList.add("js-tilt-glare"),(t=document.createElement("div")).classList.add("js-tilt-glare-inner"),e.appendChild(t),this.element.appendChild(e)),this.glareElementWrapper=this.element.querySelector(".js-tilt-glare"),this.glareElement=this.element.querySelector(".js-tilt-glare-inner"),this.glarePrerender||(Object.assign(this.glareElementWrapper.style,{position:"absolute",top:"0",left:"0",width:"100%",height:"100%",overflow:"hidden","pointer-events":"none","border-radius":"inherit"}),Object.assign(this.glareElement.style,{position:"absolute",top:"50%",left:"50%","pointer-events":"none","background-image":"linear-gradient(0deg, rgba(255,255,255,0) 0%, rgba(255,255,255,1) 100%)",transform:"rotate(180deg) translate(-50%, -50%)","transform-origin":"0% 0%",opacity:"0"}),this.updateGlareSize())}},{key:"updateGlareSize",value:function(){var e;this.glare&&(e=2*(this.element.offsetWidth>this.element.offsetHeight?this.element.offsetWidth:this.element.offsetHeight),Object.assign(this.glareElement.style,{width:"".concat(e,"px"),height:"".concat(e,"px")}))}},{key:"updateClientSize",value:function(){this.clientWidth=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,this.clientHeight=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight}},{key:"onWindowResize",value:function(){this.updateGlareSize(),this.updateClientSize()}},{key:"setTransition",value:function(){var e=this;clearTimeout(this.transitionTimeout),this.element.style.transition=this.settings.speed+"ms "+this.settings.easing,this.glare&&(this.glareElement.style.transition="opacity ".concat(this.settings.speed,"ms ").concat(this.settings.easing)),this.transitionTimeout=setTimeout(function(){e.element.style.transition="",e.glare&&(e.glareElement.style.transition="")},this.settings.speed)}},{key:"extendSettings",value:function(e){var t,i={reverse:!1,max:15,startX:0,startY:0,perspective:1e3,easing:"cubic-bezier(.03,.98,.52,.99)",scale:1,speed:300,transition:!0,axis:null,glare:!1,"max-glare":1,"glare-prerender":!1,"full-page-listening":!1,"mouse-event-element":null,reset:!0,"reset-to-start":!0,gyroscope:!0,gyroscopeMinAngleX:-45,gyroscopeMaxAngleX:45,gyroscopeMinAngleY:-45,gyroscopeMaxAngleY:45,gyroscopeSamples:10},s={};for(t in i)if(t in e)s[t]=e[t];else if(this.element.hasAttribute("data-tilt-"+t)){var n=this.element.getAttribute("data-tilt-"+t);try{s[t]=JSON.parse(n)}catch(e){s[t]=n}}else s[t]=i[t];return s}}],[{key:"isSettingTrue",value:function(e){return""===e||!0===e||1===e}},{key:"init",value:function(e,t){(e=(e=e instanceof Node?[e]:e)instanceof NodeList?[].slice.call(e):e)instanceof Array&&e.forEach(function(e){"vanillaTilt"in e||(e.vanillaTilt=new i(e,t))})}}]),i}();return"undefined"!=typeof document&&(window.VanillaTilt=e).init(document.querySelectorAll("[data-tilt]")),e}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInZhbmlsbGEtdGl0bHQuanMiXSwibmFtZXMiOlsiVmFuaWxsYVRpbHQiLCJlbGVtZW50Iiwic2V0dGluZ3MiLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJ1bmRlZmluZWQiLCJfY2xhc3NDYWxsQ2hlY2siLCJ0aGlzIiwiTm9kZSIsIndpZHRoIiwiY2xpZW50V2lkdGgiLCJjbGllbnRIZWlnaHQiLCJ0b3AiLCJnYW1tYXplcm8iLCJiZXRhemVybyIsImxhc3RnYW1tYXplcm8iLCJsYXN0YmV0YXplcm8iLCJ0cmFuc2l0aW9uVGltZW91dCIsInVwZGF0ZUNhbGwiLCJldmVudCIsInVwZGF0ZUJpbmQiLCJ1cGRhdGUiLCJiaW5kIiwicmVzZXRCaW5kIiwicmVzZXQiLCJleHRlbmRTZXR0aW5ncyIsInJldmVyc2UiLCJyZXNldFRvU3RhcnQiLCJnbGFyZSIsImlzU2V0dGluZ1RydWUiLCJnbGFyZVByZXJlbmRlciIsImZ1bGxQYWdlTGlzdGVuaW5nIiwiZ3lyb3Njb3BlIiwiZ3lyb3Njb3BlU2FtcGxlcyIsImVsZW1lbnRMaXN0ZW5lciIsInByZXBhcmVHbGFyZSIsInVwZGF0ZUNsaWVudFNpemUiLCJhZGRFdmVudExpc3RlbmVycyIsInN0YXJ0WSIsIl9jcmVhdGVDbGFzcyIsImtleSIsInZhbHVlIiwid2luZG93IiwibW91c2VFdmVudEVsZW1lbnQiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJvbk1vdXNlRW50ZXJCaW5kIiwiYWRkRXZlbnRMaXN0ZW5lciIsIm9uTW91c2VNb3ZlQmluZCIsIm9uTW91c2VMZWF2ZUJpbmQiLCJvbldpbmRvd1Jlc2l6ZUJpbmQiLCJvbkRldmljZU9yaWVudGF0aW9uQmluZCIsIm9uRGV2aWNlT3JpZW50YXRpb24iLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiY2FuY2VsQW5pbWF0aW9uRnJhbWUiLCJjbGVhclRpbWVvdXQiLCJyZXNldEdsYXJlIiwicmVtb3ZlRXZlbnRMaXN0ZW5lcnMiLCJ2YW5pbGxhVGlsdCIsInN0eWxlIiwid2lsbENoYW5nZSIsInRyYW5zaXRpb24iLCJ0cmFuc2Zvcm0iLCJ1cGRhdGVFbGVtZW50UG9zaXRpb24iLCJkZWdyZWVzUGVyUGl4ZWxZIiwicG9zWCIsImdhbW1hIiwiYmV0YSIsImFuZ2xlWSIsInRvdGFsQW5nbGVYIiwiZ3lyb3Njb3BlTWF4QW5nbGVYIiwiZ3lyb3Njb3BlTWluQW5nbGVYIiwidG90YWxBbmdsZVkiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJneXJvc2NvcGVNaW5BbmdsZVkiLCJkZWdyZWVzUGVyUGl4ZWxYIiwiaGVpZ2h0IiwicG9zWSIsIm9uTW91c2VNb3ZlIiwiY2xpZW50WCIsImxlZnQiLCJjbGllbnRZIiwic2V0VHJhbnNpdGlvbiIsIm9uTW91c2VFbnRlciIsImJhY2t1cFNjYWxlIiwic2NhbGUiLCJnbGFyZUVsZW1lbnQiLCJtYXgiLCJvcGFjaXR5Iiwic3RhcnRYIiwiZ2V0VmFsdWVzIiwidGlsdFkiLCJNYXRoIiwiYXRhbjIiLCJ5IiwieCIsInJlY3QiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJvZmZzZXRXaWR0aCIsIm1pbiIsImRldGFpbCIsInRpbHRYIiwidG9GaXhlZCIsInBlcmNlbnRhZ2VYIiwicGVyY2VudGFnZVkiLCJhbmdsZSIsIlBJIiwianNUaWx0R2xhcmUiLCJ2YWx1ZXMiLCJhcHBlbmRDaGlsZCIsImF4aXMiLCJjb25jYXQiLCJkaXNwYXRjaEV2ZW50IiwiQ3VzdG9tRXZlbnQiLCJqc1RpbHRHbGFyZUlubmVyIiwiY3JlYXRlRWxlbWVudCIsImNsYXNzTGlzdCIsImlubmVySGVpZ2h0IiwiYWRkIiwib25XaW5kb3dSZXNpemUiLCJnbGFyZUVsZW1lbnRXcmFwcGVyIiwiT2JqZWN0IiwiYXNzaWduIiwicG9zaXRpb24iLCJvdmVyZmxvdyIsInBvaW50ZXItZXZlbnRzIiwiYm9yZGVyLXJhZGl1cyIsImJhY2tncm91bmQtaW1hZ2UiLCJ0cmFuc2Zvcm0tb3JpZ2luIiwidXBkYXRlR2xhcmVTaXplIiwiZ2xhcmVTaXplIiwib2Zmc2V0SGVpZ2h0IiwiaW5uZXJXaWR0aCIsImRvY3VtZW50RWxlbWVudCIsImJvZHkiLCJfdGhpcyIsInNwZWVkIiwiZWFzaW5nIiwic2V0VGltZW91dCIsImd5cm9zY29wZU1heEFuZ2xlWSIsIm5ld1NldHRpbmdzIiwiZWxlbWVudHMiLCJwcm9wZXJ0eSIsImRlZmF1bHRTZXR0aW5ncyIsInBlcnNwZWN0aXZlIiwibWF4LWdsYXJlIiwiZ2xhcmUtcHJlcmVuZGVyIiwiZnVsbC1wYWdlLWxpc3RlbmluZyIsIm1vdXNlLWV2ZW50LWVsZW1lbnQiLCJyZXNldC10by1zdGFydCIsImhhc0F0dHJpYnV0ZSIsImF0dHJpYnV0ZSIsImdldEF0dHJpYnV0ZSIsIkpTT04iLCJwYXJzZSIsImUiLCJzZXR0aW5nIiwiTm9kZUxpc3QiLCJzbGljZSIsImNhbGwiLCJBcnJheSIsImZvckVhY2giLCJpbml0IiwicXVlcnlTZWxlY3RvckFsbCJdLCJtYXBwaW5ncyI6IjJqQ0FBQSxJQUFJQSxZQUFlLFdBR2xCLElBT01BLEVBQVcsV0FQakIsU0FBQUEsRUFBQUMsR0FBQSxJQUFBQyxFQUFBLEVBQUFDLFVBQUFDLFFBQUFDLEtBQUFBLElBQUFGLFVBQUEsR0FBQUEsVUFBQSxHQUFBLEdBQ0QsR0FEQ0csZ0JBQUFDLEtBQUFQLENBQUEsRUFDRCxFQUFBQyxhQUFBTyxNQUNBLEtBQUEsd0NBQUFQLEVBQUEsa0JBR0FNLEtBQUFFLE1BQUEsS0FMQ0YsS0FPTVAsT0FBVyxLQVFmTyxLQVBERyxZQUFBVixLQVFDTyxLQVJtQ0ksYUFBUFIsS0FTNUJJLEtBVGlDRCxLQUFBQSxLQVVqQ0MsS0FUQUssSUFBTVgsS0FZTk0sS0FSQU0sVUFBYSxLQVNiTixLQVJBTyxTQUFXLEtBU1hQLEtBUkFRLGNBQWdCLEtBU2hCUixLQVJBUyxhQUFpQixLQVVqQlQsS0FSQVUsa0JBQWUsS0FTZlYsS0FBS1csV0FBYSxLQUNsQlgsS0FSQVksTUFBQSxLQVVBWixLQVJBYSxXQUFhYixLQUFPYyxPQUFBQyxLQUFBZixJQUFBLEVBU3BCQSxLQVJBZ0IsVUFBS1Is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QSxDQUNGLENBQUEsRUFBQSxDQUFBcEgsSUFBQSxPQUFBQyxNQTZaRSxTQUFZb0csRUFBVTNJLElBTXBCMkksR0FKQUEsRUFER0EsYUFBb0JySSxLQUNaLENBQUNxSSxHQUdUQSxhQUFvQmdCLFNBQ1osR0FBR0MsTUFBTUMsS0FBS2xCLENBQVEsRUFHNUJBLGFBQW9CbUIsT0FJMUJuQixFQUFTb0IsUUFBUSxTQUFBaEssR0FDVixnQkFBaUJBLElBQ3RCQSxFQUFReUQsWUFBYyxJQUFJMUQsRUFBWUMsRUFBU0MsQ0FBUSxFQUV6RCxDQUFDLENBQ0YsQ0FBQyxFQUFBLEVBQUFGLENBQUEsRUFBQSxFQWFGLE1BVndCLGFBQXBCLE9BQU80QyxXQUVWRixPQUFPMUMsWUFBY0EsR0FLVGtLLEtBQUt0SCxTQUFTdUgsaUJBQWlCLGFBQWEsQ0FBQyxFQUduRG5LLENBQ1IsRUFBRyIsImZpbGUiOiJ2YW5pbGxhLXRpdGx0Lm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBWYW5pbGxhVGlsdCA9IChmdW5jdGlvbiAoKSB7XHJcblx0J3VzZSBzdHJpY3QnXHJcblxyXG5cdC8qKlxyXG5cdCAqIENyZWF0ZWQgYnkgU2VyZ2l1IMiYYW5kb3IgKG1pY2t1N3p1KSBvbiAxLzI3LzIwMTcuXHJcblx0ICogT3JpZ2luYWwgaWRlYTogaHR0cHM6Ly9naXRodWIuY29tL2dpanNyb2dlL3RpbHQuanNcclxuXHQgKiBNSVQgTGljZW5zZS5cclxuXHQgKiBWZXJzaW9uIDEuOC4xXHJcblx0ICovXHJcblxyXG5cdGNsYXNzIFZhbmlsbGFUaWx0IHtcclxuXHRcdGNvbnN0cnVjdG9yKGVsZW1lbnQsIHNldHRpbmdzID0ge30pIHtcclxuXHRcdFx0aWYgKCEoZWxlbWVudCBpbnN0YW5jZW9mIE5vZGUpKSB7XHJcblx0XHRcdFx0dGhyb3cgXCJDYW4ndCBpbml0aWFsaXplIFZhbmlsbGFUaWx0IGJlY2F1c2UgXCIgKyBlbGVtZW50ICsgJyBpcyBub3QgYSBOb2RlLidcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0dGhpcy53aWR0aCA9IG51bGxcclxuXHRcdFx0dGhpcy5oZWlnaHQgPSBudWxsXHJcblx0XHRcdHRoaXMuY2xpZW50V2lkdGggPSBudWxsXHJcblx0XHRcdHRoaXMuY2xpZW50SGVpZ2h0ID0gbnVsbFxyXG5cdFx0XHR0aGlzLmxlZnQgPSBudWxsXHJcblx0XHRcdHRoaXMudG9wID0gbnVsbFxyXG5cclxuXHRcdFx0Ly8gZm9yIEd5cm9zY29wZSBzYW1wbGluZ1xyXG5cdFx0XHR0aGlzLmdhbW1hemVybyA9IG51bGxcclxuXHRcdFx0dGhpcy5iZXRhemVybyA9IG51bGxcclxuXHRcdFx0dGhpcy5sYXN0Z2FtbWF6ZXJvID0gbnVsbFxyXG5cdFx0XHR0aGlzLmxhc3RiZXRhemVybyA9IG51bGxcclxuXHJcblx0XHRcdHRoaXMudHJhbnNpdGlvblRpbWVvdXQgPSBudWxsXHJcblx0XHRcdHRoaXMudXBkYXRlQ2FsbCA9IG51bGxcclxuXHRcdFx0dGhpcy5ldmVudCA9IG51bGxcclxuXHJcblx0XHRcdHRoaXMudXBkYXRlQmluZCA9IHRoaXMudXBkYXRlLmJpbmQodGhpcylcclxuXHRcdFx0dGhpcy5yZXNldEJpbmQgPSB0aGlzLnJlc2V0LmJpbmQodGhpcylcclxuXHJcblx0XHRcdHRoaXMuZWxlbWVudCA9IGVsZW1lbnRcclxuXHRcdFx0dGhpcy5zZXR0aW5ncyA9IHRoaXMuZXh0ZW5kU2V0dGluZ3Moc2V0dGluZ3MpXHJcblxyXG5cdFx0XHR0aGlzLnJldmVyc2UgPSB0aGlzLnNldHRpbmdzLnJldmVyc2UgPyAtMSA6IDFcclxuXHRcdFx0dGhpcy5yZXNldFRvU3RhcnQgPSBWYW5pbGxhVGlsdC5pc1NldHRpbmdUcnVlKHRoaXMuc2V0dGluZ3NbJ3Jlc2V0LXRvLXN0YXJ0J10pXHJcblx0XHRcdHRoaXMuZ2xhcmUgPSBWYW5pbGxhVGlsdC5pc1NldHRpbmdUcnVlKHRoaXMuc2V0dGluZ3MuZ2xhcmUpXHJcblx0XHRcdHRoaXMuZ2xhcmVQcmVyZW5kZXIgPSBWYW5pbGxhVGlsdC5pc1NldHRpbmdUcnVlKHRoaXMuc2V0dGluZ3NbJ2dsYXJlLXByZXJlbmRlciddKVxyXG5cdFx0XHR0aGlzLmZ1bGxQYWdlTGlzdGVuaW5nID0gVmFuaWxsYVRpbHQuaXNTZXR0aW5nVHJ1ZSh0aGlzLnNldHRpbmdzWydmdWxsLXBhZ2UtbGlzdGVuaW5nJ10pXHJcblx0XHRcdHRoaXMuZ3lyb3Njb3BlID0gVmFuaWxsYVRpbHQuaXNTZXR0aW5nVHJ1ZSh0aGlzLnNldHRpbmdzLmd5cm9zY29wZSlcclxuXHRcdFx0dGhpcy5neXJvc2NvcGVTYW1wbGVzID0gdGhpcy5zZXR0aW5ncy5neXJvc2NvcGVTYW1wbGVzXHJcblxyXG5cdFx0XHR0aGlzLmVsZW1lbnRMaXN0ZW5lciA9IHRoaXMuZ2V0RWxlbWVudExpc3RlbmVyKClcclxuXHJcblx0XHRcdGlmICh0aGlzLmdsYXJlKSB7XHJcblx0XHRcdFx0dGhpcy5wcmVwYXJlR2xhcmUoKVxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRpZiAodGhpcy5mdWxsUGFnZUxpc3RlbmluZykge1xyXG5cdFx0XHRcdHRoaXMudXBkYXRlQ2xpZW50U2l6ZSgpXHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHRoaXMuYWRkRXZlbnRMaXN0ZW5lcnMoKVxyXG5cdFx0XHR0aGlzLnJlc2V0KClcclxuXHJcblx0XHRcdGlmICh0aGlzLnJlc2V0VG9TdGFydCA9PT0gZmFsc2UpIHtcclxuXHRcdFx0XHR0aGlzLnNldHRpbmdzLnN0YXJ0WCA9IDBcclxuXHRcdFx0XHR0aGlzLnNldHRpbmdzLnN0YXJ0WSA9IDBcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdHN0YXRpYyBpc1NldHRpbmdUcnVlKHNldHRpbmcpIHtcclxuXHRcdFx0cmV0dXJuIHNldHRpbmcgPT09ICcnIHx8IHNldHRpbmcgPT09IHRydWUgfHwgc2V0dGluZyA9PT0gMVxyXG5cdFx0fVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogTWV0aG9kIHJldHVybnMgZWxlbWVudCB3aGF0IHdpbGwgYmUgbGlzdGVuIG1vdXNlIGV2ZW50c1xyXG5cdFx0ICogQHJldHVybiB7Tm9kZX1cclxuXHRcdCAqL1xyXG5cdFx0Z2V0RWxlbWVudExpc3RlbmVyKCkge1xyXG5cdFx0XHRpZiAodGhpcy5mdWxsUGFnZUxpc3RlbmluZykge1xyXG5cdFx0XHRcdHJldHVybiB3aW5kb3cuZG9jdW1lbnRcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0aWYgKHR5cGVvZiB0aGlzLnNldHRpbmdzWydtb3VzZS1ldmVudC1lbGVtZW50J10gPT09ICdzdHJpbmcnKSB7XHJcblx0XHRcdFx0Y29uc3QgbW91c2VFdmVudEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRoaXMuc2V0dGluZ3NbJ21vdXNlLWV2ZW50LWVsZW1lbnQnXSlcclxuXHJcblx0XHRcdFx0aWYgKG1vdXNlRXZlbnRFbGVtZW50KSB7XHJcblx0XHRcdFx0XHRyZXR1cm4gbW91c2VFdmVudEVsZW1lbnRcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGlmICh0aGlzLnNldHRpbmdzWydtb3VzZS1ldmVudC1lbGVtZW50J10gaW5zdGFuY2VvZiBOb2RlKSB7XHJcblx0XHRcdFx0cmV0dXJuIHRoaXMuc2V0dGluZ3NbJ21vdXNlLWV2ZW50LWVsZW1lbnQnXVxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRyZXR1cm4gdGhpcy5lbGVtZW50XHJcblx0XHR9XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBNZXRob2Qgc2V0IGxpc3RlbiBtZXRob2RzIGZvciB0aGlzLmVsZW1lbnRMaXN0ZW5lclxyXG5cdFx0ICogQHJldHVybiB7Tm9kZX1cclxuXHRcdCAqL1xyXG5cdFx0YWRkRXZlbnRMaXN0ZW5lcnMoKSB7XHJcblx0XHRcdHRoaXMub25Nb3VzZUVudGVyQmluZCA9IHRoaXMub25Nb3VzZUVudGVyLmJpbmQodGhpcylcclxuXHRcdFx0dGhpcy5vbk1vdXNlTW92ZUJpbmQgPSB0aGlzLm9uTW91c2VNb3ZlLmJpbmQodGhpcylcclxuXHRcdFx0dGhpcy5vbk1vdXNlTGVhdmVCaW5kID0gdGhpcy5vbk1vdXNlTGVhdmUuYmluZCh0aGlzKVxyXG5cdFx0XHR0aGlzLm9uV2luZG93UmVzaXplQmluZCA9IHRoaXMub25XaW5kb3dSZXNpemUuYmluZCh0aGlzKVxyXG5cdFx0XHR0aGlzLm9uRGV2aWNlT3JpZW50YXRpb25CaW5kID0gdGhpcy5vbkRldmljZU9yaWVudGF0aW9uLmJpbmQodGhpcylcclxuXHJcblx0XHRcdHRoaXMuZWxlbWVudExpc3RlbmVyLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZW50ZXInLCB0aGlzLm9uTW91c2VFbnRlckJpbmQpXHJcblx0XHRcdHRoaXMuZWxlbWVudExpc3RlbmVyLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCB0aGlzLm9uTW91c2VMZWF2ZUJpbmQpXHJcblx0XHRcdHRoaXMuZWxlbWVudExpc3RlbmVyLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHRoaXMub25Nb3VzZU1vdmVCaW5kKVxyXG5cclxuXHRcdFx0aWYgKHRoaXMuZ2xhcmUgfHwgdGhpcy5mdWxsUGFnZUxpc3RlbmluZykge1xyXG5cdFx0XHRcdHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLm9uV2luZG93UmVzaXplQmluZClcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0aWYgKHRoaXMuZ3lyb3Njb3BlKSB7XHJcblx0XHRcdFx0d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2RldmljZW9yaWVudGF0aW9uJywgdGhpcy5vbkRldmljZU9yaWVudGF0aW9uQmluZClcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogTWV0aG9kIHJlbW92ZSBldmVudCBsaXN0ZW5lcnMgZnJvbSBjdXJyZW50IHRoaXMuZWxlbWVudExpc3RlbmVyXHJcblx0XHQgKi9cclxuXHRcdHJlbW92ZUV2ZW50TGlzdGVuZXJzKCkge1xyXG5cdFx0XHR0aGlzLmVsZW1lbnRMaXN0ZW5lci5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZWVudGVyJywgdGhpcy5vbk1vdXNlRW50ZXJCaW5kKVxyXG5cdFx0XHR0aGlzLmVsZW1lbnRMaXN0ZW5lci5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgdGhpcy5vbk1vdXNlTGVhdmVCaW5kKVxyXG5cdFx0XHR0aGlzLmVsZW1lbnRMaXN0ZW5lci5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLm9uTW91c2VNb3ZlQmluZClcclxuXHJcblx0XHRcdGlmICh0aGlzLmd5cm9zY29wZSkge1xyXG5cdFx0XHRcdHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdkZXZpY2VvcmllbnRhdGlvbicsIHRoaXMub25EZXZpY2VPcmllbnRhdGlvbkJpbmQpXHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGlmICh0aGlzLmdsYXJlIHx8IHRoaXMuZnVsbFBhZ2VMaXN0ZW5pbmcpIHtcclxuXHRcdFx0XHR3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5vbldpbmRvd1Jlc2l6ZUJpbmQpXHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHRkZXN0cm95KCkge1xyXG5cdFx0XHRjbGVhclRpbWVvdXQodGhpcy50cmFuc2l0aW9uVGltZW91dClcclxuXHRcdFx0aWYgKHRoaXMudXBkYXRlQ2FsbCAhPT0gbnVsbCkge1xyXG5cdFx0XHRcdGNhbmNlbEFuaW1hdGlvbkZyYW1lKHRoaXMudXBkYXRlQ2FsbClcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0dGhpcy5lbGVtZW50LnN0eWxlLndpbGxDaGFuZ2UgPSAnJ1xyXG5cdFx0XHR0aGlzLmVsZW1lbnQuc3R5bGUudHJhbnNpdGlvbiA9ICcnXHJcblx0XHRcdHRoaXMuZWxlbWVudC5zdHlsZS50cmFuc2Zvcm0gPSAnJ1xyXG5cdFx0XHR0aGlzLnJlc2V0R2xhcmUoKVxyXG5cclxuXHRcdFx0dGhpcy5yZW1vdmVFdmVudExpc3RlbmVycygpXHJcblx0XHRcdHRoaXMuZWxlbWVudC52YW5pbGxhVGlsdCA9IG51bGxcclxuXHRcdFx0ZGVsZXRlIHRoaXMuZWxlbWVudC52YW5pbGxhVGlsdFxyXG5cclxuXHRcdFx0dGhpcy5lbGVtZW50ID0gbnVsbFxyXG5cdFx0fVxyXG5cclxuXHRcdG9uRGV2aWNlT3JpZW50YXRpb24oZXZlbnQpIHtcclxuXHRcdFx0aWYgKGV2ZW50LmdhbW1hID09PSBudWxsIHx8IGV2ZW50LmJldGEgPT09IG51bGwpIHtcclxuXHRcdFx0XHRyZXR1cm5cclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0dGhpcy51cGRhdGVFbGVtZW50UG9zaXRpb24oKVxyXG5cclxuXHRcdFx0aWYgKHRoaXMuZ3lyb3Njb3BlU2FtcGxlcyA+IDApIHtcclxuXHRcdFx0XHR0aGlzLmxhc3RnYW1tYXplcm8gPSB0aGlzLmdhbW1hemVyb1xyXG5cdFx0XHRcdHRoaXMubGFzdGJldGF6ZXJvID0gdGhpcy5iZXRhemVyb1xyXG5cclxuXHRcdFx0XHRpZiAodGhpcy5nYW1tYXplcm8gPT09IG51bGwpIHtcclxuXHRcdFx0XHRcdHRoaXMuZ2FtbWF6ZXJvID0gZXZlbnQuZ2FtbWFcclxuXHRcdFx0XHRcdHRoaXMuYmV0YXplcm8gPSBldmVudC5iZXRhXHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdHRoaXMuZ2FtbWF6ZXJvID0gKGV2ZW50LmdhbW1hICsgdGhpcy5sYXN0Z2FtbWF6ZXJvKSAvIDJcclxuXHRcdFx0XHRcdHRoaXMuYmV0YXplcm8gPSAoZXZlbnQuYmV0YSArIHRoaXMubGFzdGJldGF6ZXJvKSAvIDJcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdHRoaXMuZ3lyb3Njb3BlU2FtcGxlcyAtPSAxXHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGNvbnN0IHRvdGFsQW5nbGVYID0gdGhpcy5zZXR0aW5ncy5neXJvc2NvcGVNYXhBbmdsZVggLSB0aGlzLnNldHRpbmdzLmd5cm9zY29wZU1pbkFuZ2xlWFxyXG5cdFx0XHRjb25zdCB0b3RhbEFuZ2xlWSA9IHRoaXMuc2V0dGluZ3MuZ3lyb3Njb3BlTWF4QW5nbGVZIC0gdGhpcy5zZXR0aW5ncy5neXJvc2NvcGVNaW5BbmdsZVlcclxuXHJcblx0XHRcdGNvbnN0IGRlZ3JlZXNQZXJQaXhlbFggPSB0b3RhbEFuZ2xlWCAvIHRoaXMud2lkdGhcclxuXHRcdFx0Y29uc3QgZGVncmVlc1BlclBpeGVsWSA9IHRvdGFsQW5nbGVZIC8gdGhpcy5oZWlnaHRcclxuXHJcblx0XHRcdGNvbnN0IGFuZ2xlWCA9IGV2ZW50LmdhbW1hIC0gKHRoaXMuc2V0dGluZ3MuZ3lyb3Njb3BlTWluQW5nbGVYICsgdGhpcy5nYW1tYXplcm8pXHJcblx0XHRcdGNvbnN0IGFuZ2xlWSA9IGV2ZW50LmJldGEgLSAodGhpcy5zZXR0aW5ncy5neXJvc2NvcGVNaW5BbmdsZVkgKyB0aGlzLmJldGF6ZXJvKVxyXG5cclxuXHRcdFx0Y29uc3QgcG9zWCA9IGFuZ2xlWCAvIGRlZ3JlZXNQZXJQaXhlbFhcclxuXHRcdFx0Y29uc3QgcG9zWSA9IGFuZ2xlWSAvIGRlZ3JlZXNQZXJQaXhlbFlcclxuXHJcblx0XHRcdGlmICh0aGlzLnVwZGF0ZUNhbGwgIT09IG51bGwpIHtcclxuXHRcdFx0XHRjYW5jZWxBbmltYXRpb25GcmFtZSh0aGlzLnVwZGF0ZUNhbGwpXHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHRoaXMuZXZlbnQgPSB7XHJcblx0XHRcdFx0Y2xpZW50WDogcG9zWCArIHRoaXMubGVmdCxcclxuXHRcdFx0XHRjbGllbnRZOiBwb3NZICsgdGhpcy50b3AsXHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHRoaXMudXBkYXRlQ2FsbCA9IHJlcXVlc3RBbmltYXRpb25GcmFtZSh0aGlzLnVwZGF0ZUJpbmQpXHJcblx0XHR9XHJcblxyXG5cdFx0b25Nb3VzZUVudGVyKCkge1xyXG5cdFx0XHR0aGlzLnVwZGF0ZUVsZW1lbnRQb3NpdGlvbigpXHJcblx0XHRcdHRoaXMuZWxlbWVudC5zdHlsZS53aWxsQ2hhbmdlID0gJ3RyYW5zZm9ybSdcclxuXHRcdFx0dGhpcy5zZXRUcmFuc2l0aW9uKClcclxuXHRcdH1cclxuXHJcblx0XHRvbk1vdXNlTW92ZShldmVudCkge1xyXG5cdFx0XHRpZiAodGhpcy51cGRhdGVDYWxsICE9PSBudWxsKSB7XHJcblx0XHRcdFx0Y2FuY2VsQW5pbWF0aW9uRnJhbWUodGhpcy51cGRhdGVDYWxsKVxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHR0aGlzLmV2ZW50ID0gZXZlbnRcclxuXHRcdFx0dGhpcy51cGRhdGVDYWxsID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMudXBkYXRlQmluZClcclxuXHRcdH1cclxuXHJcblx0XHRvbk1vdXNlTGVhdmUoKSB7XHJcblx0XHRcdHRoaXMuc2V0VHJhbnNpdGlvbigpXHJcblxyXG5cdFx0XHRpZiAodGhpcy5zZXR0aW5ncy5yZXNldCkge1xyXG5cdFx0XHRcdHJlcXVlc3RBbmltYXRpb25GcmFtZSh0aGlzLnJlc2V0QmluZClcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdHJlc2V0KCkge1xyXG5cdFx0XHR0aGlzLm9uTW91c2VFbnRlcigpXHJcblxyXG5cdFx0XHRpZiAodGhpcy5mdWxsUGFnZUxpc3RlbmluZykge1xyXG5cdFx0XHRcdHRoaXMuZXZlbnQgPSB7XHJcblx0XHRcdFx0XHRjbGllbnRYOiAoKHRoaXMuc2V0dGluZ3Muc3RhcnRYICsgdGhpcy5zZXR0aW5ncy5tYXgpIC8gKDIgKiB0aGlzLnNldHRpbmdzLm1heCkpICogdGhpcy5jbGllbnRXaWR0aCxcclxuXHRcdFx0XHRcdGNsaWVudFk6ICgodGhpcy5zZXR0aW5ncy5zdGFydFkgKyB0aGlzLnNldHRpbmdzLm1heCkgLyAoMiAqIHRoaXMuc2V0dGluZ3MubWF4KSkgKiB0aGlzLmNsaWVudEhlaWdodCxcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0dGhpcy5ldmVudCA9IHtcclxuXHRcdFx0XHRcdGNsaWVudFg6IHRoaXMubGVmdCArICgodGhpcy5zZXR0aW5ncy5zdGFydFggKyB0aGlzLnNldHRpbmdzLm1heCkgLyAoMiAqIHRoaXMuc2V0dGluZ3MubWF4KSkgKiB0aGlzLndpZHRoLFxyXG5cdFx0XHRcdFx0Y2xpZW50WTogdGhpcy50b3AgKyAoKHRoaXMuc2V0dGluZ3Muc3RhcnRZICsgdGhpcy5zZXR0aW5ncy5tYXgpIC8gKDIgKiB0aGlzLnNldHRpbmdzLm1heCkpICogdGhpcy5oZWlnaHQsXHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRsZXQgYmFja3VwU2NhbGUgPSB0aGlzLnNldHRpbmdzLnNjYWxlXHJcblx0XHRcdHRoaXMuc2V0dGluZ3Muc2NhbGUgPSAxXHJcblx0XHRcdHRoaXMudXBkYXRlKClcclxuXHRcdFx0dGhpcy5zZXR0aW5ncy5zY2FsZSA9IGJhY2t1cFNjYWxlXHJcblx0XHRcdHRoaXMucmVzZXRHbGFyZSgpXHJcblx0XHR9XHJcblxyXG5cdFx0cmVzZXRHbGFyZSgpIHtcclxuXHRcdFx0aWYgKHRoaXMuZ2xhcmUpIHtcclxuXHRcdFx0XHR0aGlzLmdsYXJlRWxlbWVudC5zdHlsZS50cmFuc2Zvcm0gPSAncm90YXRlKDE4MGRlZykgdHJhbnNsYXRlKC01MCUsIC01MCUpJ1xyXG5cdFx0XHRcdHRoaXMuZ2xhcmVFbGVtZW50LnN0eWxlLm9wYWNpdHkgPSAnMCdcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdGdldFZhbHVlcygpIHtcclxuXHRcdFx0bGV0IHgsIHlcclxuXHJcblx0XHRcdGlmICh0aGlzLmZ1bGxQYWdlTGlzdGVuaW5nKSB7XHJcblx0XHRcdFx0eCA9IHRoaXMuZXZlbnQuY2xpZW50WCAvIHRoaXMuY2xpZW50V2lkdGhcclxuXHRcdFx0XHR5ID0gdGhpcy5ldmVudC5jbGllbnRZIC8gdGhpcy5jbGllbnRIZWlnaHRcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHR4ID0gKHRoaXMuZXZlbnQuY2xpZW50WCAtIHRoaXMubGVmdCkgLyB0aGlzLndpZHRoXHJcblx0XHRcdFx0eSA9ICh0aGlzLmV2ZW50LmNsaWVudFkgLSB0aGlzLnRvcCkgLyB0aGlzLmhlaWdodFxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHR4ID0gTWF0aC5taW4oTWF0aC5tYXgoeCwgMCksIDEpXHJcblx0XHRcdHkgPSBNYXRoLm1pbihNYXRoLm1heCh5LCAwKSwgMSlcclxuXHJcblx0XHRcdGxldCB0aWx0WCA9ICh0aGlzLnJldmVyc2UgKiAodGhpcy5zZXR0aW5ncy5tYXggLSB4ICogdGhpcy5zZXR0aW5ncy5tYXggKiAyKSkudG9GaXhlZCgyKVxyXG5cdFx0XHRsZXQgdGlsdFkgPSAodGhpcy5yZXZlcnNlICogKHkgKiB0aGlzLnNldHRpbmdzLm1heCAqIDIgLSB0aGlzLnNldHRpbmdzLm1heCkpLnRvRml4ZWQoMilcclxuXHRcdFx0bGV0IGFuZ2xlID1cclxuXHRcdFx0XHRNYXRoLmF0YW4yKFxyXG5cdFx0XHRcdFx0dGhpcy5ldmVudC5jbGllbnRYIC0gKHRoaXMubGVmdCArIHRoaXMud2lkdGggLyAyKSxcclxuXHRcdFx0XHRcdC0odGhpcy5ldmVudC5jbGllbnRZIC0gKHRoaXMudG9wICsgdGhpcy5oZWlnaHQgLyAyKSlcclxuXHRcdFx0XHQpICpcclxuXHRcdFx0XHQoMTgwIC8gTWF0aC5QSSlcclxuXHJcblx0XHRcdHJldHVybiB7XHJcblx0XHRcdFx0dGlsdFg6IHRpbHRYLFxyXG5cdFx0XHRcdHRpbHRZOiB0aWx0WSxcclxuXHRcdFx0XHRwZXJjZW50YWdlWDogeCAqIDEwMCxcclxuXHRcdFx0XHRwZXJjZW50YWdlWTogeSAqIDEwMCxcclxuXHRcdFx0XHRhbmdsZTogYW5nbGUsXHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHR1cGRhdGVFbGVtZW50UG9zaXRpb24oKSB7XHJcblx0XHRcdGxldCByZWN0ID0gdGhpcy5lbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpXHJcblxyXG5cdFx0XHR0aGlzLndpZHRoID0gdGhpcy5lbGVtZW50Lm9mZnNldFdpZHRoXHJcblx0XHRcdHRoaXMuaGVpZ2h0ID0gdGhpcy5lbGVtZW50Lm9mZnNldEhlaWdodFxyXG5cdFx0XHR0aGlzLmxlZnQgPSByZWN0LmxlZnRcclxuXHRcdFx0dGhpcy50b3AgPSByZWN0LnRvcFxyXG5cdFx0fVxyXG5cclxuXHRcdHVwZGF0ZSgpIHtcclxuXHRcdFx0bGV0IHZhbHVlcyA9IHRoaXMuZ2V0VmFsdWVzKClcclxuXHJcblx0XHRcdHRoaXMuZWxlbWVudC5zdHlsZS50cmFuc2Zvcm0gPVxyXG5cdFx0XHRcdCdwZXJzcGVjdGl2ZSgnICtcclxuXHRcdFx0XHR0aGlzLnNldHRpbmdzLnBlcnNwZWN0aXZlICtcclxuXHRcdFx0XHQncHgpICcgK1xyXG5cdFx0XHRcdCdyb3RhdGVYKCcgK1xyXG5cdFx0XHRcdCh0aGlzLnNldHRpbmdzLmF4aXMgPT09ICd4JyA/IDAgOiB2YWx1ZXMudGlsdFkpICtcclxuXHRcdFx0XHQnZGVnKSAnICtcclxuXHRcdFx0XHQncm90YXRlWSgnICtcclxuXHRcdFx0XHQodGhpcy5zZXR0aW5ncy5heGlzID09PSAneScgPyAwIDogdmFsdWVzLnRpbHRYKSArXHJcblx0XHRcdFx0J2RlZykgJyArXHJcblx0XHRcdFx0J3NjYWxlM2QoJyArXHJcblx0XHRcdFx0dGhpcy5zZXR0aW5ncy5zY2FsZSArXHJcblx0XHRcdFx0JywgJyArXHJcblx0XHRcdFx0dGhpcy5zZXR0aW5ncy5zY2FsZSArXHJcblx0XHRcdFx0JywgJyArXHJcblx0XHRcdFx0dGhpcy5zZXR0aW5ncy5zY2FsZSArXHJcblx0XHRcdFx0JyknXHJcblxyXG5cdFx0XHRpZiAodGhpcy5nbGFyZSkge1xyXG5cdFx0XHRcdHRoaXMuZ2xhcmVFbGVtZW50LnN0eWxlLnRyYW5zZm9ybSA9IGByb3RhdGUoJHt2YWx1ZXMuYW5nbGV9ZGVnKSB0cmFuc2xhdGUoLTUwJSwgLTUwJSlgXHJcblx0XHRcdFx0dGhpcy5nbGFyZUVsZW1lbnQuc3R5bGUub3BhY2l0eSA9IGAkeyh2YWx1ZXMucGVyY2VudGFnZVkgKiB0aGlzLnNldHRpbmdzWydtYXgtZ2xhcmUnXSkgLyAxMDB9YFxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHR0aGlzLmVsZW1lbnQuZGlzcGF0Y2hFdmVudChcclxuXHRcdFx0XHRuZXcgQ3VzdG9tRXZlbnQoJ3RpbHRDaGFuZ2UnLCB7XHJcblx0XHRcdFx0XHRkZXRhaWw6IHZhbHVlcyxcclxuXHRcdFx0XHR9KVxyXG5cdFx0XHQpXHJcblxyXG5cdFx0XHR0aGlzLnVwZGF0ZUNhbGwgPSBudWxsXHJcblx0XHR9XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBBcHBlbmRzIHRoZSBnbGFyZSBlbGVtZW50IChpZiBnbGFyZVByZXJlbmRlciBlcXVhbHMgZmFsc2UpXHJcblx0XHQgKiBhbmQgc2V0cyB0aGUgZGVmYXVsdCBzdHlsZVxyXG5cdFx0ICovXHJcblx0XHRwcmVwYXJlR2xhcmUoKSB7XHJcblx0XHRcdC8vIElmIG9wdGlvbiBwcmUtcmVuZGVyIGlzIGVuYWJsZWQgd2UgYXNzdW1lIGFsbCBodG1sL2NzcyBpcyBwcmVzZW50IGZvciBhbiBvcHRpbWFsIGdsYXJlIGVmZmVjdC5cclxuXHRcdFx0aWYgKCF0aGlzLmdsYXJlUHJlcmVuZGVyKSB7XHJcblx0XHRcdFx0Ly8gQ3JlYXRlIGdsYXJlIGVsZW1lbnRcclxuXHRcdFx0XHRjb25zdCBqc1RpbHRHbGFyZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXHJcblx0XHRcdFx0anNUaWx0R2xhcmUuY2xhc3NMaXN0LmFkZCgnanMtdGlsdC1nbGFyZScpXHJcblxyXG5cdFx0XHRcdGNvbnN0IGpzVGlsdEdsYXJlSW5uZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxyXG5cdFx0XHRcdGpzVGlsdEdsYXJlSW5uZXIuY2xhc3NMaXN0LmFkZCgnanMtdGlsdC1nbGFyZS1pbm5lcicpXHJcblxyXG5cdFx0XHRcdGpzVGlsdEdsYXJlLmFwcGVuZENoaWxkKGpzVGlsdEdsYXJlSW5uZXIpXHJcblx0XHRcdFx0dGhpcy5lbGVtZW50LmFwcGVuZENoaWxkKGpzVGlsdEdsYXJlKVxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHR0aGlzLmdsYXJlRWxlbWVudFdyYXBwZXIgPSB0aGlzLmVsZW1lbnQucXVlcnlTZWxlY3RvcignLmpzLXRpbHQtZ2xhcmUnKVxyXG5cdFx0XHR0aGlzLmdsYXJlRWxlbWVudCA9IHRoaXMuZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuanMtdGlsdC1nbGFyZS1pbm5lcicpXHJcblxyXG5cdFx0XHRpZiAodGhpcy5nbGFyZVByZXJlbmRlcikge1xyXG5cdFx0XHRcdHJldHVyblxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRPYmplY3QuYXNzaWduKHRoaXMuZ2xhcmVFbGVtZW50V3JhcHBlci5zdHlsZSwge1xyXG5cdFx0XHRcdHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxyXG5cdFx0XHRcdHRvcDogJzAnLFxyXG5cdFx0XHRcdGxlZnQ6ICcwJyxcclxuXHRcdFx0XHR3aWR0aDogJzEwMCUnLFxyXG5cdFx0XHRcdGhlaWdodDogJzEwMCUnLFxyXG5cdFx0XHRcdG92ZXJmbG93OiAnaGlkZGVuJyxcclxuXHRcdFx0XHQncG9pbnRlci1ldmVudHMnOiAnbm9uZScsXHJcblx0XHRcdFx0J2JvcmRlci1yYWRpdXMnOiAnaW5oZXJpdCcsXHJcblx0XHRcdH0pXHJcblxyXG5cdFx0XHRPYmplY3QuYXNzaWduKHRoaXMuZ2xhcmVFbGVtZW50LnN0eWxlLCB7XHJcblx0XHRcdFx0cG9zaXRpb246ICdhYnNvbHV0ZScsXHJcblx0XHRcdFx0dG9wOiAnNTAlJyxcclxuXHRcdFx0XHRsZWZ0OiAnNTAlJyxcclxuXHRcdFx0XHQncG9pbnRlci1ldmVudHMnOiAnbm9uZScsXHJcblx0XHRcdFx0J2JhY2tncm91bmQtaW1hZ2UnOiBgbGluZWFyLWdyYWRpZW50KDBkZWcsIHJnYmEoMjU1LDI1NSwyNTUsMCkgMCUsIHJnYmEoMjU1LDI1NSwyNTUsMSkgMTAwJSlgLFxyXG5cdFx0XHRcdHRyYW5zZm9ybTogJ3JvdGF0ZSgxODBkZWcpIHRyYW5zbGF0ZSgtNTAlLCAtNTAlKScsXHJcblx0XHRcdFx0J3RyYW5zZm9ybS1vcmlnaW4nOiAnMCUgMCUnLFxyXG5cdFx0XHRcdG9wYWNpdHk6ICcwJyxcclxuXHRcdFx0fSlcclxuXHJcblx0XHRcdHRoaXMudXBkYXRlR2xhcmVTaXplKClcclxuXHRcdH1cclxuXHJcblx0XHR1cGRhdGVHbGFyZVNpemUoKSB7XHJcblx0XHRcdGlmICh0aGlzLmdsYXJlKSB7XHJcblx0XHRcdFx0Y29uc3QgZ2xhcmVTaXplID1cclxuXHRcdFx0XHRcdCh0aGlzLmVsZW1lbnQub2Zmc2V0V2lkdGggPiB0aGlzLmVsZW1lbnQub2Zmc2V0SGVpZ2h0XHJcblx0XHRcdFx0XHRcdD8gdGhpcy5lbGVtZW50Lm9mZnNldFdpZHRoXHJcblx0XHRcdFx0XHRcdDogdGhpcy5lbGVtZW50Lm9mZnNldEhlaWdodCkgKiAyXHJcblxyXG5cdFx0XHRcdE9iamVjdC5hc3NpZ24odGhpcy5nbGFyZUVsZW1lbnQuc3R5bGUsIHtcclxuXHRcdFx0XHRcdHdpZHRoOiBgJHtnbGFyZVNpemV9cHhgLFxyXG5cdFx0XHRcdFx0aGVpZ2h0OiBgJHtnbGFyZVNpemV9cHhgLFxyXG5cdFx0XHRcdH0pXHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHR1cGRhdGVDbGllbnRTaXplKCkge1xyXG5cdFx0XHR0aGlzLmNsaWVudFdpZHRoID0gd2luZG93LmlubmVyV2lkdGggfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoIHx8IGRvY3VtZW50LmJvZHkuY2xpZW50V2lkdGhcclxuXHJcblx0XHRcdHRoaXMuY2xpZW50SGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0IHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQgfHwgZG9jdW1lbnQuYm9keS5jbGllbnRIZWlnaHRcclxuXHRcdH1cclxuXHJcblx0XHRvbldpbmRvd1Jlc2l6ZSgpIHtcclxuXHRcdFx0dGhpcy51cGRhdGVHbGFyZVNpemUoKVxyXG5cdFx0XHR0aGlzLnVwZGF0ZUNsaWVudFNpemUoKVxyXG5cdFx0fVxyXG5cclxuXHRcdHNldFRyYW5zaXRpb24oKSB7XHJcblx0XHRcdGNsZWFyVGltZW91dCh0aGlzLnRyYW5zaXRpb25UaW1lb3V0KVxyXG5cdFx0XHR0aGlzLmVsZW1lbnQuc3R5bGUudHJhbnNpdGlvbiA9IHRoaXMuc2V0dGluZ3Muc3BlZWQgKyAnbXMgJyArIHRoaXMuc2V0dGluZ3MuZWFzaW5nXHJcblx0XHRcdGlmICh0aGlzLmdsYXJlKSB0aGlzLmdsYXJlRWxlbWVudC5zdHlsZS50cmFuc2l0aW9uID0gYG9wYWNpdHkgJHt0aGlzLnNldHRpbmdzLnNwZWVkfW1zICR7dGhpcy5zZXR0aW5ncy5lYXNpbmd9YFxyXG5cclxuXHRcdFx0dGhpcy50cmFuc2l0aW9uVGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xyXG5cdFx0XHRcdHRoaXMuZWxlbWVudC5zdHlsZS50cmFuc2l0aW9uID0gJydcclxuXHRcdFx0XHRpZiAodGhpcy5nbGFyZSkge1xyXG5cdFx0XHRcdFx0dGhpcy5nbGFyZUVsZW1lbnQuc3R5bGUudHJhbnNpdGlvbiA9ICcnXHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9LCB0aGlzLnNldHRpbmdzLnNwZWVkKVxyXG5cdFx0fVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogTWV0aG9kIHJldHVybiBwYXRjaGVkIHNldHRpbmdzIG9mIGluc3RhbmNlXHJcblx0XHQgKiBAcGFyYW0ge2Jvb2xlYW59IHNldHRpbmdzLnJldmVyc2UgLSByZXZlcnNlIHRoZSB0aWx0IGRpcmVjdGlvblxyXG5cdFx0ICogQHBhcmFtIHtudW1iZXJ9IHNldHRpbmdzLm1heCAtIG1heCB0aWx0IHJvdGF0aW9uIChkZWdyZWVzKVxyXG5cdFx0ICogQHBhcmFtIHtzdGFydFh9IHNldHRpbmdzLnN0YXJ0WCAtIHRoZSBzdGFydGluZyB0aWx0IG9uIHRoZSBYIGF4aXMsIGluIGRlZ3JlZXMuIERlZmF1bHQ6IDBcclxuXHRcdCAqIEBwYXJhbSB7c3RhcnRZfSBzZXR0aW5ncy5zdGFydFkgLSB0aGUgc3RhcnRpbmcgdGlsdCBvbiB0aGUgWSBheGlzLCBpbiBkZWdyZWVzLiBEZWZhdWx0OiAwXHJcblx0XHQgKiBAcGFyYW0ge251bWJlcn0gc2V0dGluZ3MucGVyc3BlY3RpdmUgLSBUcmFuc2Zvcm0gcGVyc3BlY3RpdmUsIHRoZSBsb3dlciB0aGUgbW9yZSBleHRyZW1lIHRoZSB0aWx0IGdldHNcclxuXHRcdCAqIEBwYXJhbSB7c3RyaW5nfSBzZXR0aW5ncy5lYXNpbmcgLSBFYXNpbmcgb24gZW50ZXIvZXhpdFxyXG5cdFx0ICogQHBhcmFtIHtudW1iZXJ9IHNldHRpbmdzLnNjYWxlIC0gMiA9IDIwMCUsIDEuNSA9IDE1MCUsIGV0Yy4uXHJcblx0XHQgKiBAcGFyYW0ge251bWJlcn0gc2V0dGluZ3Muc3BlZWQgLSBTcGVlZCBvZiB0aGUgZW50ZXIvZXhpdCB0cmFuc2l0aW9uXHJcblx0XHQgKiBAcGFyYW0ge2Jvb2xlYW59IHNldHRpbmdzLnRyYW5zaXRpb24gLSBTZXQgYSB0cmFuc2l0aW9uIG9uIGVudGVyL2V4aXRcclxuXHRcdCAqIEBwYXJhbSB7c3RyaW5nfG51bGx9IHNldHRpbmdzLmF4aXMgLSBXaGF0IGF4aXMgc2hvdWxkIGJlIGVuYWJsZWQuIENhbiBiZSBcInhcIiBvciBcInlcIlxyXG5cdFx0ICogQHBhcmFtIHtib29sZWFufSBzZXR0aW5ncy5nbGFyZSAtIGlmIGl0IHNob3VsZCBoYXZlIGEgXCJnbGFyZVwiIGVmZmVjdFxyXG5cdFx0ICogQHBhcmFtIHtudW1iZXJ9IHNldHRpbmdzLm1heC1nbGFyZSAtIHRoZSBtYXhpbXVtIFwiZ2xhcmVcIiBvcGFjaXR5ICgxID0gMTAwJSwgMC41ID0gNTAlKVxyXG5cdFx0ICogQHBhcmFtIHtib29sZWFufSBzZXR0aW5ncy5nbGFyZS1wcmVyZW5kZXIgLSBmYWxzZSA9IFZhbmlsbGFUaWx0IGNyZWF0ZXMgdGhlIGdsYXJlIGVsZW1lbnRzIGZvciB5b3UsIG90aGVyd2lzZVxyXG5cdFx0ICogQHBhcmFtIHtib29sZWFufSBzZXR0aW5ncy5mdWxsLXBhZ2UtbGlzdGVuaW5nIC0gSWYgdHJ1ZSwgcGFyYWxsYXggZWZmZWN0IHdpbGwgbGlzdGVuIHRvIG1vdXNlIG1vdmUgZXZlbnRzIG9uIHRoZSB3aG9sZSBkb2N1bWVudCwgbm90IG9ubHkgdGhlIHNlbGVjdGVkIGVsZW1lbnRcclxuXHRcdCAqIEBwYXJhbSB7c3RyaW5nfG9iamVjdH0gc2V0dGluZ3MubW91c2UtZXZlbnQtZWxlbWVudCAtIFN0cmluZyBzZWxlY3RvciBvciBsaW5rIHRvIEhUTUwtZWxlbWVudCB3aGF0IHdpbGwgYmUgbGlzdGVuIG1vdXNlIGV2ZW50c1xyXG5cdFx0ICogQHBhcmFtIHtib29sZWFufSBzZXR0aW5ncy5yZXNldCAtIGZhbHNlID0gSWYgdGhlIHRpbHQgZWZmZWN0IGhhcyB0byBiZSByZXNldCBvbiBleGl0XHJcblx0XHQgKiBAcGFyYW0ge2Jvb2xlYW59IHNldHRpbmdzLnJlc2V0LXRvLXN0YXJ0IC0gdHJ1ZSA9IE9uIHJlc2V0IGV2ZW50IChtb3VzZSBsZWF2ZSkgd2lsbCByZXR1cm4gdG8gaW5pdGlhbCBzdGFydCBhbmdsZSAoaWYgc3RhcnRYIG9yIHN0YXJ0WSBpcyBzZXQpXHJcblx0XHQgKiBAcGFyYW0ge2d5cm9zY29wZX0gc2V0dGluZ3MuZ3lyb3Njb3BlIC0gRW5hYmxlIHRpbHRpbmcgYnkgZGV2aWNlb3JpZW50YXRpb24gZXZlbnRzXHJcblx0XHQgKiBAcGFyYW0ge2d5cm9zY29wZVNlbnNpdGl2aXR5fSBzZXR0aW5ncy5neXJvc2NvcGVTZW5zaXRpdml0eSAtIEJldHdlZW4gMCBhbmQgMSAtIFRoZSBhbmdsZSBhdCB3aGljaCBtYXggdGlsdCBwb3NpdGlvbiBpcyByZWFjaGVkLiAxID0gOTBkZWcsIDAuNSA9IDQ1ZGVnLCBldGMuLlxyXG5cdFx0ICogQHBhcmFtIHtneXJvc2NvcGVTYW1wbGVzfSBzZXR0aW5ncy5neXJvc2NvcGVTYW1wbGVzIC0gSG93IG1hbnkgZ3lyb3Njb3BlIG1vdmVzIHRvIGRlY2lkZSB0aGUgc3RhcnRpbmcgcG9zaXRpb24uXHJcblx0XHQgKi9cclxuXHRcdGV4dGVuZFNldHRpbmdzKHNldHRpbmdzKSB7XHJcblx0XHRcdGxldCBkZWZhdWx0U2V0dGluZ3MgPSB7XHJcblx0XHRcdFx0cmV2ZXJzZTogZmFsc2UsXHJcblx0XHRcdFx0bWF4OiAxNSxcclxuXHRcdFx0XHRzdGFydFg6IDAsXHJcblx0XHRcdFx0c3RhcnRZOiAwLFxyXG5cdFx0XHRcdHBlcnNwZWN0aXZlOiAxMDAwLFxyXG5cdFx0XHRcdGVhc2luZzogJ2N1YmljLWJlemllciguMDMsLjk4LC41MiwuOTkpJyxcclxuXHRcdFx0XHRzY2FsZTogMSxcclxuXHRcdFx0XHRzcGVlZDogMzAwLFxyXG5cdFx0XHRcdHRyYW5zaXRpb246IHRydWUsXHJcblx0XHRcdFx0YXhpczogbnVsbCxcclxuXHRcdFx0XHRnbGFyZTogZmFsc2UsXHJcblx0XHRcdFx0J21heC1nbGFyZSc6IDEsXHJcblx0XHRcdFx0J2dsYXJlLXByZXJlbmRlcic6IGZhbHNlLFxyXG5cdFx0XHRcdCdmdWxsLXBhZ2UtbGlzdGVuaW5nJzogZmFsc2UsXHJcblx0XHRcdFx0J21vdXNlLWV2ZW50LWVsZW1lbnQnOiBudWxsLFxyXG5cdFx0XHRcdHJlc2V0OiB0cnVlLFxyXG5cdFx0XHRcdCdyZXNldC10by1zdGFydCc6IHRydWUsXHJcblx0XHRcdFx0Z3lyb3Njb3BlOiB0cnVlLFxyXG5cdFx0XHRcdGd5cm9zY29wZU1pbkFuZ2xlWDogLTQ1LFxyXG5cdFx0XHRcdGd5cm9zY29wZU1heEFuZ2xlWDogNDUsXHJcblx0XHRcdFx0Z3lyb3Njb3BlTWluQW5nbGVZOiAtNDUsXHJcblx0XHRcdFx0Z3lyb3Njb3BlTWF4QW5nbGVZOiA0NSxcclxuXHRcdFx0XHRneXJvc2NvcGVTYW1wbGVzOiAxMCxcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0bGV0IG5ld1NldHRpbmdzID0ge31cclxuXHRcdFx0Zm9yICh2YXIgcHJvcGVydHkgaW4gZGVmYXVsdFNldHRpbmdzKSB7XHJcblx0XHRcdFx0aWYgKHByb3BlcnR5IGluIHNldHRpbmdzKSB7XHJcblx0XHRcdFx0XHRuZXdTZXR0aW5nc1twcm9wZXJ0eV0gPSBzZXR0aW5nc1twcm9wZXJ0eV1cclxuXHRcdFx0XHR9IGVsc2UgaWYgKHRoaXMuZWxlbWVudC5oYXNBdHRyaWJ1dGUoJ2RhdGEtdGlsdC0nICsgcHJvcGVydHkpKSB7XHJcblx0XHRcdFx0XHRsZXQgYXR0cmlidXRlID0gdGhpcy5lbGVtZW50LmdldEF0dHJpYnV0ZSgnZGF0YS10aWx0LScgKyBwcm9wZXJ0eSlcclxuXHRcdFx0XHRcdHRyeSB7XHJcblx0XHRcdFx0XHRcdG5ld1NldHRpbmdzW3Byb3BlcnR5XSA9IEpTT04ucGFyc2UoYXR0cmlidXRlKVxyXG5cdFx0XHRcdFx0fSBjYXRjaCAoZSkge1xyXG5cdFx0XHRcdFx0XHRuZXdTZXR0aW5nc1twcm9wZXJ0eV0gPSBhdHRyaWJ1dGVcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0bmV3U2V0dGluZ3NbcHJvcGVydHldID0gZGVmYXVsdFNldHRpbmdzW3Byb3BlcnR5XVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0cmV0dXJuIG5ld1NldHRpbmdzXHJcblx0XHR9XHJcblxyXG5cdFx0c3RhdGljIGluaXQoZWxlbWVudHMsIHNldHRpbmdzKSB7XHJcblx0XHRcdGlmIChlbGVtZW50cyBpbnN0YW5jZW9mIE5vZGUpIHtcclxuXHRcdFx0XHRlbGVtZW50cyA9IFtlbGVtZW50c11cclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0aWYgKGVsZW1lbnRzIGluc3RhbmNlb2YgTm9kZUxpc3QpIHtcclxuXHRcdFx0XHRlbGVtZW50cyA9IFtdLnNsaWNlLmNhbGwoZWxlbWVudHMpXHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGlmICghKGVsZW1lbnRzIGluc3RhbmNlb2YgQXJyYXkpKSB7XHJcblx0XHRcdFx0cmV0dXJuXHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGVsZW1lbnRzLmZvckVhY2goZWxlbWVudCA9PiB7XHJcblx0XHRcdFx0aWYgKCEoJ3ZhbmlsbGFUaWx0JyBpbiBlbGVtZW50KSkge1xyXG5cdFx0XHRcdFx0ZWxlbWVudC52YW5pbGxhVGlsdCA9IG5ldyBWYW5pbGxhVGlsdChlbGVtZW50LCBzZXR0aW5ncylcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pXHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRpZiAodHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJykge1xyXG5cdFx0LyogZXhwb3NlIHRoZSBjbGFzcyB0byB3aW5kb3cgKi9cclxuXHRcdHdpbmRvdy5WYW5pbGxhVGlsdCA9IFZhbmlsbGFUaWx0XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBBdXRvIGxvYWRcclxuXHRcdCAqL1xyXG5cdFx0VmFuaWxsYVRpbHQuaW5pdChkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS10aWx0XScpKVxyXG5cdH1cclxuXHJcblx0cmV0dXJuIFZhbmlsbGFUaWx0XHJcbn0pKClcclxuIl19
